<mxfile host="app.diagrams.net">
  <diagram name="Networth Sequence Diagram" id="networth-seq-001">
    <mxGraphModel dx="1290" dy="750" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Lifelines -->
        <mxCell id="user" value="User" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="fe" value="App (Networth API)" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="40" width="140" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="esb" value="ESB" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="c24" value="C24" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="finacle" value="Finacle" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="asl" value="ASL" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="experian" value="Experian" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="lumiq" value="Lumiq" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="40" width="100" height="500" as="geometry"/>
        </mxCell>
        <mxCell id="kafka" value="BIU_Kafka" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1200" y="40" width="120" height="500" as="geometry"/>
        </mxCell>

        <!-- Messages -->
        <mxCell id="m1" value="Request Networth" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="user" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="m2" value="Fetch assets/liabilities" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="fe" target="esb">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m3" value="Return response" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="esb" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="m4" value="Fetch data" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="fe" target="c24">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m5" value="Return data" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="c24" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="m6" value="Fetch data" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="fe" target="finacle">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m7" value="Return data" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="finacle" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="m8" value="Fetch data" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="fe" target="asl">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m9" value="Return data" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="asl" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="m10" value="Fetch data" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="fe" target="experian">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m11" value="Return data" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="experian" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="m12" value="Fetch data" style="endArrow=blockThin;html=1;" edge="1" parent="1" source="fe" target="lumiq">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m13" value="Return data" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="lumiq" target="fe">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Response back to FE -->
        <mxCell id="m14" value="Return aggregated Networth response" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="fe" target="user">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Kafka async push -->
        <mxCell id="m15" value="Push Networth data async" style="endArrow=blockThin;html=1;dashed=1;" edge="1" parent="1" source="fe" target="kafka">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="m16" value="Consume data" style="endArrow=openThin;html=1;dashed=1;" edge="1" parent="1" source="kafka" target="lumiq">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
